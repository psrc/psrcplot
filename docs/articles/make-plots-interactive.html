<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Learn how to make an interactive plot with psrpllot.">
<title>Interactive plotting • psrcplot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive plotting">
<meta property="og:description" content="Learn how to make an interactive plot with psrpllot.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">psrcplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/frequently-asked-questions.html">psrcplot Frequently Asked Questions</a>
    <a class="dropdown-item" href="../articles/make-plots-interactive.html">Interactive plotting</a>
    <a class="dropdown-item" href="../articles/make-plots.html">Get Started Making a Static Plot</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="make-plots-interactive_files/htmlwidgets-1.6.1/htmlwidgets.js"></script><script src="make-plots-interactive_files/plotly-binding-4.10.1/plotly.js"></script><script src="make-plots-interactive_files/typedarray-0.1/typedarray.min.js"></script><link href="make-plots-interactive_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="make-plots-interactive_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="make-plots-interactive_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="make-plots-interactive_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interactive plotting</h1>
            
      
      
      <div class="d-none name"><code>make-plots-interactive.Rmd</code></div>
    </div>

    
    
<p>The function names in PSRC plot have a naming convention that first
identifies whether the plot is static or interactive, then what type of
chart. For example, static_bar_chart() makes a static chart that has
horizontal bars.</p>
<div class="section level2">
<h2 id="make-an-interactive-column-chart-of-travel-survey-data">Make an interactive column chart of travel survey data<a class="anchor" aria-label="anchor" href="#make-an-interactive-column-chart-of-travel-survey-data"></a>
</h2>
<p>If you want to create an interactive column plot, you call the
function interactive_column_chart specifying t as the underlying table.
Note that in a column chart the x variable is expected to be categories,
and the y variable is canumeric- since x values are the categories and
the numeric values are represented on the y axis.</p>
<p>In the example below, we have read in an example data table that
shows transit access modes from the travel survey:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">transit_acc_df</span> <span class="op">&lt;-</span> <span class="fu">psrcplot</span><span class="fu">::</span><span class="va"><a href="../reference/transit_access_example_data.html">transit_access_example_data</a></span> </span>
<span></span>
<span><span class="va">transit_acc_df</span></span></code></pre></div>
<pre><code><span><span class="co">##      survey     mode_acc_walk     count count_moe     share share_moe</span></span>
<span><span class="co">## 1 2017_2019 Other Access Mode  76864.68  19849.31 0.1428148 0.0345003</span></span>
<span><span class="co">## 2 2017_2019  Walked or jogged 461347.49  49535.06 0.8571852 0.0345003</span></span>
<span><span class="co">## 3      2021 Other Access Mode  95813.72  26434.51 0.2464731 0.0604748</span></span>
<span><span class="co">## 4      2021  Walked or jogged 292925.31  36395.11 0.7535269 0.0604748</span></span>
<span><span class="co">##   sample_size      year</span></span>
<span><span class="co">## 1         334 2017/2019</span></span>
<span><span class="co">## 2        4144 2017/2019</span></span>
<span><span class="co">## 3          78      2021</span></span>
<span><span class="co">## 4         297      2021</span></span></code></pre>
<p>This data table is sent into a interactive column chart with PSRC
colors in the following function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Interactive chart        </span></span>
<span><span class="va">transit_access_chart</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/column_bar_charts.html">interactive_column_chart</a></span><span class="op">(</span>t<span class="op">=</span><span class="va">transit_acc_df</span>, </span>
<span>                                               x<span class="op">=</span><span class="st">'mode_acc_walk'</span>, y<span class="op">=</span><span class="st">'share'</span>, fill<span class="op">=</span><span class="st">'year'</span>, </span>
<span>                                               moe<span class="op">=</span><span class="st">'share_moe'</span>, est<span class="op">=</span><span class="st">'percent'</span>,</span>
<span>                                               color<span class="op">=</span><span class="st">"psrc_light"</span>, title<span class="op">=</span><span class="st">'Transit Access Mode'</span><span class="op">)</span></span>
<span><span class="va">transit_access_chart</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fb8618b48f2c5148ef01" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-fb8618b48f2c5148ef01">{"x":{"data":[{"orientation":"v","width":[0.45,0.45],"base":[0,0],"x":[0.775,1.775],"y":[0.142814829,0.857185171],"text":["2017/2019: 14%","2017/2019: 86%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(169,212,110,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2017/2019","legendgroup":"2017/2019","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"font":{"family":"Poppins","size":11,"color":"white"}}},{"orientation":"v","width":[0.45,0.45],"base":[0,0],"x":[1.225,2.225],"y":[0.246473121,0.753526879],"text":["2021: 25%","2021: 75%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(115,207,203,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2021","legendgroup":"2021","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"font":{"family":"Poppins","size":11,"color":"white"}}},{"x":[0.775,1.775],"y":[0.142814829,0.857185171],"text":["2017/2019: 14%","2017/2019: 86%"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_y":{"array":[0.034500301,0.034500301],"arrayminus":[0.034500301,0.034500301],"type":"data","width":21.2121212121212,"symmetric":false,"color":"rgba(0,0,0,1)"},"name":"2017/2019","legendgroup":"2017/2019","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"font":{"family":"Poppins","size":11,"color":"white"}}},{"x":[1.225,2.225],"y":[0.246473121,0.753526879],"text":["2021: 25%","2021: 75%"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_y":{"array":[0.060474803,0.060474803],"arrayminus":[0.060474803,0.060474803],"type":"data","width":21.2121212121212,"symmetric":false,"color":"rgba(0,0,0,1)"},"name":"2021","legendgroup":"2021","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"font":{"family":"Poppins","size":11,"color":"white"}}}],"layout":{"margin":{"t":45.0932125915102,"r":7.30593607305936,"b":27.4327725749058,"l":40.1826484018265},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"","font":{"color":"rgba(76,76,76,1)","family":"Poppins","size":17.2685761726858},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["Other Access Mode","Walked or jogged"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Other Access Mode","Walked or jogged"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"#2f3030","family":"Poppins","size":11},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0,1.0700225664],"tickmode":"array","ticktext":["0%","25%","50%","75%","100%"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0%","25%","50%","75%","100%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"#2f3030","family":"Poppins","size":11},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(203,203,203,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"#2f3030","family":"Poppins","size":11},"title":"","orientation":"h","xanchor":"center","xref":"container","x":0.5,"y":-0.1,"pad":{"b":50,"t":50}},"hovermode":"closest","barmode":"relative","annotations":[{"x":0,"y":1.05,"text":"Transit Access Mode","xref":"paper","yref":"paper","showarrow":false,"font":{"family":"Poppins Black","size":14,"color":"#4C4C4C"}},{"x":0,"y":1.05,"text":"Transit Access Mode","xref":"paper","yref":"paper","showarrow":false,"font":{"family":"Poppins Black","size":14,"color":"#4C4C4C"}},{"x":0,"y":1.05,"text":"Transit Access Mode","xref":"paper","yref":"paper","showarrow":false,"font":{"family":"Poppins Black","size":14,"color":"#4C4C4C"}}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"10285ff8e3e":{"x":{},"y":{},"text":{},"fill":{},"type":"bar"},"102876776559":{"x":{},"y":{},"text":{},"fill":{},"ymin":{},"ymax":{}}},"cur_data":"10285ff8e3e","visdat":{"10285ff8e3e":["function (y) ","x"],"102876776559":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>You can find out more about any of the functions by running
?function_name in the package. For example,
?interactive_column_chart()</p>
</div>
<div class="section level2">
<h2 id="exporting-an-interactive-html-chart">Exporting an interactive html chart<a class="anchor" aria-label="anchor" href="#exporting-an-interactive-html-chart"></a>
</h2>
<p>Here is how you can save the interactive bar chart you created above
programmatically using the htmlwidgets library. Once you have an html
version of the file it can be embedded in any webpage.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ramnathv/htmlwidgets" class="external-link">htmlwidgets</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: package 'htmlwidgets' was built under R version 4.2.2</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/htmlwidgets/man/saveWidget.html" class="external-link">saveWidget</a></span><span class="op">(</span><span class="va">transit_access_chart</span>, </span>
<span>           file<span class="op">=</span><span class="op">(</span><span class="st">'transit_access.html'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="changing-chart-colors">Changing chart colors<a class="anchor" aria-label="anchor" href="#changing-chart-colors"></a>
</h2>
<p>In psrcplot, we provide many color ramps that have been approved by
our graphics department. These color ramps can be used by referencing
their names as in color=“pgnobgy_5” above. You can see the colors in R
with the following function: print_psrc_palette().</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/print_psrc_palette.html">print_psrc_palette</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="make-plots-interactive_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Craig Helmann, Christy Lam, Megan Gryzbowski, Suzanne Childress, Michael Jensen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
