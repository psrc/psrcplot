---
title: "Get Started Making a Static Plot"
description: >
  Learn how to get started with the primary functions of psrcplot to create a static plot.
output: html_vignette
vignette: >
  %\VignetteIndexEntry{Get Started Making a Static Plot}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(psrcplot)
library(dplyr)
```

## Install PSRC Fonts

The PSRC Poppins font needs to be installed when you first start creating charts because it is not built into R.

The following function will install PSRC fonts.

```{r}
install_psrc_fonts()
```


The function names in PSRC plot have a naming convention that first identifies whether the plot is static or interactive, then what type of chart. For example, interactive_column_chart makes an interactive chart that can be displayed on the web that has vertical bars.

## Make a static bar plot of Census data

If you want to create a bar plot, you call the function static_bar_chart specifying t as the underlying table. Note that in a static_bar_chart the x variable is expected to be numeric, and the y variable is categorical- since the numeric values are represented on the x axis and the y values are the categories.

In the example below, we have read in an example data table that shows mode share by race for the region:

```{r mode_data, message=FALSE}
mode_shares <- read.csv(system.file('extdata', 'example_data.csv', package='psrcplot')) %>% 
 filter(Category=="Mode to Work by Race") %>%
 filter(Geography=="Region" & Race=="Total") %>%
 mutate(Year = as.character(Year))
mode_shares
```

This data table is sent into a static_bar_chart with PSRC colors in the following function:
```{r mode_chart, message=FALSE}
# Static Chart         
modes_chart <- static_bar_chart(t=mode_shares, y="Mode",x="share", fill="Year",
                                    title="Mode Share to Work",
                                    alt="Chart of Work Mode Shares",
                                    source=paste("Source: ACS 5-Year Estimates, table B3002",
                                                 "for King, Kitsap, Pierce and Snohomish counties.",
                                                 sep = "\n"),
                                    color="pgnobgy_5")
modes_chart
```
You can find out more about any of the functions by running ?function_name in the package. For example, ?static_bar_chart()

## Exporting a static chart


You have a few options for saving a static chart. First you can right click on a plot you have open in R-Studio and save it to a file.

To export the static chart programmatically, you can use a ggplot2 function called ggsave: https://ggplot2.tidyverse.org/reference/ggsave.html

Here is how you can save the static bar chart you created above programmatically.
```{r}
ggsave(filename='modes_bar_chart.png', plot=modes_chart, device='png')

```

## Changing chart colors
In psrcplot, we provide many color ramps that have been approved by our graphics department. These color ramps can be used by referencing their names as in color="pgnobgy_5" above. You can see the colors in R with the following function: print_psrc_palette(). 
```{r}
print_psrc_palette()
```


